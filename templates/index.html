<!DOCTYPE html>
<html>

<head>
  <title>GitHub Events</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>
</head>

<body>
  <div class="container">
    <div class="d-flex justify-content-center my-5 row">
      <div class="col-md-12 text-center">
        <h2>GitHub</h2>
      </div>
      <div class="col-md-12">
        <table class="table text-center table-striped">
          <thead>
            <tr>
              <th scope="col">Event Logs</th>
            </tr>
          </thead>
          <tbody id="events">
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    async function fetchEvents() {
      const res = await fetch('/events');
      const data = await res.json();
      const container = document.getElementById('events');
      container.innerHTML = '';
      data.forEach(event => {
        let msg = `${event}`;
        container.innerHTML += `<tr><td>${msg}</td></tr>`;
      });
    }

    fetchEvents();
    setInterval(fetchEvents, 15000);
  </script>
</body>

</html>